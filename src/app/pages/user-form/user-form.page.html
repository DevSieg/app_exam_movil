<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/users"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ isEditMode ? 'Editar Usuario' : 'Nuevo Usuario' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        {{ isEditMode ? 'Modificar datos del usuario' : 'Completar datos del usuario' }}
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-item>
        <ion-label position="floating">Usuario *</ion-label>
        <ion-input type="text" [(ngModel)]="user.email" placeholder="Ingrese el nombre de usuario">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Email *</ion-label>
        <ion-input type="email" [(ngModel)]="user.email" placeholder="usuario@ejemplo.com">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">
          Contraseña {{ isEditMode ? '(dejar vacío para no cambiar)' : '*' }}
        </ion-label>
        <ion-input type="password" [(ngModel)]="user.password" placeholder="Ingrese la contraseña">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Rol *</ion-label>
        <ion-select [(ngModel)]="user.role" placeholder="Seleccione un rol">
          <ion-select-option *ngFor="let role of roles" [value]="role">
            {{ role }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <div class="button-container">
        <ion-button expand="block" (click)="saveUser()" color="primary">
          <ion-icon slot="start" name="save-outline"></ion-icon>
          Guardar
        </ion-button>

        <ion-button expand="block" fill="outline" (click)="cancel()" color="medium">
          <ion-icon slot="start" name="close-outline"></ion-icon>
          Cancelar
        </ion-button>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>